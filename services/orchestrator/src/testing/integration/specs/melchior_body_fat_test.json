{
  "meta": {
    "enabled": true
  },
  "test": {
    "name": "body_fat_goal_calculation",
    "description": "User asks about progress toward 15% body fat goal - should access personal data and calculate difference",
    "magi": "Melchior",
    "baselineDate": "2025-08-16",
    "timeout": 120000
  },
  "input": {
    "userMessage": "m: I'm trying to get down to 15% bodyfat, how far do I have to go?"
  },
  "toolStubs": {
    "access-data": {
      "responses": [
        {
          "when": {
            "action": "retrieve",
            "content": "bodyfat percentage"
          },
          "response": "{\"data\": {\"items\": [{\"id\": \"pd_1756095071282_9ba136ee59bd\",\"content\": \"20%\",\"category\": \"Health & Wellness\",\"timestamp\": \"2025-08-25T04:11:11.301Z\",\"user_context\": \"\"}],\"total_found\": 1},\"categories\": [\"Health & Wellness\"],\"last_updated\": \"2025-08-22T01:49:09.668Z\"}"
        }
      ]
    },
    "communicate": {
      "response": "Based on your current body fat of 20% and your goal of 15%, you need to reduce your body fat by 5 percentage points to reach your target.",
      "ignoreParameters": true
    }
  },
  "expectations": {
    "finalResponse": {
      "mustContain": [
        "5",
        "percentage",
        "20%",
        "15%"
      ],
      "mustNotContain": [
        "I don't know",
        "error",
        "failed",
        "cannot"
      ],
      "minLength": 10,
      "maxLength": 500
    },
    "toolUsage": {
      "mustCall": [
        "access-data",
        "communicate"
      ],
      "mustNotCall": [
      ],
      "expectedOrder": [
        {
          "tool": "access-data",
          "before": "communicate"
        }
      ]
    },
    "behavior": {
      "shouldComplete": true,
      "maxDuration": 45000,
      "shouldSpeak": false
    },
    "planning": {
      "goalCount": {
        "min": 2,
        "max": 3
      },
      "shouldPlanFor": [
        "Access user's health data",
        "Respond"
      ]
    }
  }
}