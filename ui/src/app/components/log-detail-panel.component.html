<div class="log-detail-panel" [class.visible]="isVisible">
  <div class="panel-header">
    <div class="log-meta" *ngIf="selectedLog">
      <span class="log-time">{{ formatTime(selectedLog.timeStamp) }}</span>
      <span class="log-level" [class]="'log-type-' + selectedLog.logType.toLowerCase()">
        {{ selectedLog.logType }}
      </span>
    </div>
    <button class="close-btn" (click)="onClose()" aria-label="Close panel">
      Ã—
    </button>
  </div>
  
  <div class="panel-content" *ngIf="selectedLog">
    <div class="log-title-section">
      <h3>Log Entry</h3>
      <div class="log-title">{{ selectedLog.title }}</div>
    </div>
    
    <div class="log-fulltext-section">
      <div>
        <h4>Full Text</h4>
        <button type="button" class="copy-btn" (click)="copyLogText()" [class.success]="copySuccess" [attr.aria-label]="copySuccess ? 'Copied!' : 'Copy log text'">
          <svg *ngIf="!copySuccess" class="copy-icon" focusable="false" aria-hidden="true" viewBox="0 0 24 24">
            <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"></path>
          </svg>
          <svg *ngIf="copySuccess" class="success-icon" focusable="false" aria-hidden="true" viewBox="0 0 24 24">
            <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"></path>
          </svg>
        </button>
      </div>
      <pre class="log-fulltext">{{ selectedLog.fullText }}</pre>
    </div>
  </div>
</div>